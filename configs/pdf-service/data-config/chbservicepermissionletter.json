{
    "key": "chbservicepermissionletter",
    "documentType": "CHBLETTER",
    "DataConfigs": {
        "moduleName": "chb-services",
        "version": "1.0.0",
        "baseKeyPath": "$.hallsbookingApplication.*",
        "entityIdPath": "$.id",
        "isCommonTableBorderRequired": true,
        "mappings": [
            {
                "mappings": [
                    {
                        "direct": [
                            {
                                "variable": "municipal_corportaion",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_CONSOLIDATED_TLCERTIFICATE_MUNICIPAL_CORPORATION"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },
                            {
                                "variable": "corporation_website",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_MUTATION_WEBSITE"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },
                            {
                                "variable": "corporation_email",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_MUTATION_EMAIL"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },
                            {
                                "variable": "Permission_Letter",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_CHB_PERMISSION_LETTER"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },
                            {
                                "variable": "Booking_Id_Label",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_BOOKING_ID_LABEL"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },
                            {
                                "variable": "Receipt_Number_Label",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_RECEIPT_NUMBER_LABEL"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },
                            {
                                "variable": "Booking_Number",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_RECEIPT_BOOKING_NUMBER"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },
                            {
                                "variable": "Applicant_Name",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_RECEIPT_APPLICANT_NAME"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },
                            {
                                "variable": "Applicant_Contact",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_RECEIPT_APPLICANT_CONTACT"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },
                            {
                                "variable": "Booking_Slot",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_RECEIPT_BOOKING_SLOT"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },
                            {
                                "variable": "Booking_status",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_RECEIPT_BOOKING_STATUS"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },
                            {
                                "variable": "Hall_Name",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_RECEIPT_HALL_NAME"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },
                            {
                                "variable": "Hall_Code",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_RECEIPT_HALL_CODE"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },
                            {
                                "variable": "Start_Date",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_RECEIPT_START_DATE"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },
                            {
                                "variable": "End_Date",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_RECEIPT_END_DATE"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },
                            {
                                "variable": "Booking_Date",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_RECEIPT_BOOKING_DATE"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },
                            {
                                "variable": "Amount_Paid",
                                "value": {
                                    "path": "PDF_STATIC_LABEL_RECEIPT_AMOUNT_PAID"
                                },
                                "type": "label",
                                "localisation": {
                                    "required": true,
                                    "prefix": null,
                                    "module": "rainmaker-common"
                                }
                            },



                            {
                                "variable": "Booking_Number",
                                "value": {
                                    "path": "$.BookingNumber"
                                }
                            },
                            {
                                "variable": "Applicant_Name",
                                "value": {
                                    "path": "$.applicantName"
                                }
                            },
                            {
                                "variable": "Application_Contact",
                                "value": {
                                    "path": "$.mobileNumber"
                                }
                            },
                            {
                                "variable": "Booking_Slot",
                                "value": {
                                    "path": "$.BookingSlot"
                                }
                            },
                            {
                                "variable": "Booking_status",
                                "value": {
                                    "path": "$.BookingStatus"
                                }
                            },
                            {
                                "variable": "Hall_Name",
                                "value": {
                                    "path": "$.HallCode"
                                }
                            },
                            {
                                "variable": "Hall_Code",
                                "value": {
                                    "path": "$.HallCode"
                                }
                            },

                            {
                                "variable": "Start_Date",
                                "value": {
                                    "path": "$.StartDate"
                                }
                            },
                            {
                                "variable": "End_Date",
                                "value": {
                                    "path": "$.EndDate"
                                }
                            },
                            {
                                "variable": "Booking_Date",
                                "value": {
                                    "path": "$.BookingDate"
                                }
                            },{
                                "variable":"Amount_Paid",
                                "value": {
                                    "path": "$.AmountPaid"
                                }
                            }
                            
                
                        ]
                    },
                    {
                        "externalAPI": [
                            {
                                "path": "http://egov-mdms-service:8080/egov-mdms-service/v1/_get",
                                "queryParam": "moduleName=tenant&masterName=tenants&tenantId=pg&filter=%5B?(@.code=='{$.tenantId}')%5D",
                                "apiRequest": null,
                                "responseMapping": [
                                    {
                                        "variable": "ULB_LOGO",
                                        "value": "$.MdmsRes.tenant.tenants[0].logoId",
                                        "type": "image"
                                    },
                                    {
                                        "variable": "ULB_ADDRESS",
                                        "value": "$.MdmsRes.tenant.tenants[0].address"
                                    },
                                    {
                                        "variable": "ULB_CITY",
                                        "value": "$.MdmsRes.tenant.tenants[0].name"
                                    },
                                    {
                                        "variable": "CorporationContact_Value",
                                        "value": "$.MdmsRes.tenant.tenants[0].contactNumber"
                                    },
                                    {
                                        "variable": "corporationWebsite",
                                        "value": "$.MdmsRes.tenant.tenants[0].domainUrl"
                                    },
                                    {
                                        "variable": "corporationEmail",
                                        "value": "$.MdmsRes.tenant.tenants[0].emailId"
                                    }
                                ]
                            },
                            {
                                "path": "http://egov-workflow-v2.egov:8080/egov-workflow-v2/egov-wf/process/_search",
                                "queryParam": "businessIds=$.applicationNumber,history=true,tenantId=$.tenantId",
                                "apiRequest": null,
                                "responseMapping": [
                                    {
                                        "variable": "approved_by_value",
                                        "value": "$.ProcessInstances[?(@.action == 'APPROVE')].assigner.name"
                                    },
                                    {
                                        "variable": "Approval_Date",
                                        "value": "$.ProcessInstances[?(@.action == 'APPROVE')].auditDetails.lastModifiedTime",
                                        "type": "date"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ]
    }
}